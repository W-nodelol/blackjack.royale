<!DOCTYPE html>
<html>
<head>
    <title>Blackjack Royale</title>
    <link rel="icon" type="image/png" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkzhhvOa9CaBSN7Es4m5fnLGTT0PB0VbXM-g&s">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Added for mobile responsiveness -->
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            margin: 0;
            padding: 10px; /* Reduced padding for mobile */
            min-height: 100vh;
            font-size: 16px; /* Base font size for scalability */
        }
        h1 {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-size: 1.8em; /* Smaller for mobile */
            text-align: center;
            margin: 10px 0;
        }
        #game-area {
            background: rgba(0, 0, 0, 0.85);
            padding: 15px; /* Reduced padding */
            border-radius: 10px;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            display: none;
            width: 100%; /* Full width on mobile */
            box-sizing: border-box;
        }
        .hand-container {
            margin: 10px 0;
            min-height: 80px; /* Adjusted for smaller screens */
        }
        .card {
            display: inline-block;
            width: 50px; /* Smaller cards for mobile */
            height: 70px;
            margin: 3px;
            padding: 5px;
            background: #fff;
            color: black;
            border-radius: 5px;
            box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
            font-size: 1em;
            position: relative;
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-3px);
        }
        .suit {
            font-size: 1.2em;
            position: absolute;
            bottom: 3px;
            right: 3px;
        }
        .hearts, .diamonds { color: #e74c3c; }
        .spades, .clubs { color: #2c3e50; }
        button {
            padding: 8px 15px; /* Smaller buttons */
            margin: 3px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            border: none;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            width: 45%; /* Buttons take half width for better stacking */
            box-sizing: border-box;
        }
        button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(255,107,107,0.5);
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.7;
        }
        #trivia-area {
            background: rgba(46, 204, 113, 0.9);
            padding: 15px;
            border-radius: 10px;
            margin: 10px auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            text-align: center;
            display: none;
            width: 100%;
        }
        .money {
            color: #ffd700;
            font-weight: bold;
        }
        #welcome-screen, #pregame-trivia, #trivia-topic-selection, #pregame-trivia-topic-selection, #table-menu {
            background: rgba(44, 62, 80, 0.9);
            padding: 15px;
            border-radius: 10px;
            margin: 10px auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            text-align: center;
            width: 100%;
        }
        #welcome-screen h2, #pregame-trivia h2, #trivia-topic-selection h2, #pregame-trivia-topic-selection h2, #table-menu h2 {
            margin-top: 0;
            font-size: 1.5em; /* Adjusted for mobile */
        }
        .topic-buttons, .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .topic-buttons button, .preset-buttons button {
            background: linear-gradient(45deg, #3498db, #2980b9);
            width: 45%; /* Stackable buttons */
        }
        .preset-buttons button:hover, .topic-buttons button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        #message-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #message-modal-content {
            background: #2c3e50;
            padding: 15px;
            border-radius: 10px;
            width: 90%; /* Wider on mobile */
            max-width: 400px;
            text-align: center;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }
        #message-modal-content p {
            margin: 0 0 15px 0;
            font-size: 1em;
        }
        #table-menu button {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
        }
        #table-menu button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        #table-menu button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
        }
        input[type="number"] {
            width: 60px;
            padding: 5px;
            margin: 5px;
            font-size: 0.9em;
        }

        /* Media Queries for Mobile */
        @media (max-width: 600px) {
            .card {
                width: 40px;
                height: 60px;
                font-size: 0.8em;
            }
            .suit {
                font-size: 1em;
            }
            button {
                width: 48%; /* Slightly wider for two-column layout */
                font-size: 0.8em;
                padding: 6px 10px;
            }
            h1 {
                font-size: 1.5em;
            }
            #welcome-screen h2, #pregame-trivia h2, #trivia-topic-selection h2, #pregame-trivia-topic-selection h2, #table-menu h2 {
                font-size: 1.2em;
            }
            .preset-buttons button {
                width: 30%; /* Three buttons per row on smaller screens */
            }
            p {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <!-- HTML content remains unchanged -->
    <h1>Blackjack Royale</h1>
    <div id="welcome-screen">
        <h2>Welcome to Blackjack Royale!</h2>
        <p>Would you like to answer trivia questions for a starting bonus, or go straight to the game?</p>
        <button onclick="startPreGameTrivia()">Play Trivia for Bonus</button>
        <button onclick="skipToBlackjack()">Skip to Blackjack</button>
    </div>
    <div id="game-area">
        <div class="hand-container">
            <p><strong>Your Hand:</strong> <span id="player-hand"></span> (<span id="player-total"></span>)</p>
            <p id="split-hand" style="display:none"><strong>Split Hand:</strong> <span id="split-hand-cards"></span> (<span id="split-total"></span>)</p>
        </div>
        <p><strong>Dealer's Hand:</strong> <span id="dealer-hand"></span> (<span id="dealer-total"></span>)</p>
        <p><strong>Current Table Level:</strong> <span id="table-level">1</span> (Max Bet: $<span id="max-bet">1000</span>)</p>
        <p><strong>Your Bankroll:</strong> <span class="money">$<span id="bankroll">100</span></span></p>
        <p><strong>Dealer's Bankroll:</strong> <span class="money">$<span id="dealer-bankroll">100</span></span></p>
        <p><strong>Your Bet:</strong> <span class="money">$<span id="current-bet">0</span></span></p>
        <input type="number" id="bet-amount" min="1" value="10">
        <div class="preset-buttons">
            <button onclick="setBet(50)">$50</button>
            <button onclick="setBet(100)">$100</button>
            <button onclick="setBet(200)">$200</button>
            <button onclick="setBet(500)">$500</button>
            <button onclick="setBet(1000)">$1000</button>
            <button onclick="setMaxBet()">Max Bet</button>
        </div>
        <button onclick="startRound()" id="start-round-btn">Deal</button>
        <button id="hit-btn" onclick="hit()" disabled>Hit</button>
        <button id="stand-btn" onclick="stand()" disabled>Stand</button>
        <button id="double-btn" onclick="doubleDown()" disabled>Double</button>
        <button id="split-btn" onclick="split()" disabled>Split</button>
        <button onclick="showTableMenu()">Change Table</button>
    </div>
    <div id="table-menu" style="display:none">
        <h2>Blackjack Tables</h2>
        <p>Purchase access to higher-level tables with increased max bet limits!</p>
        <p><strong>Level 1:</strong> Max Bet $1,000 (Unlocked by default)</p>
        <p><strong>Level 2:</strong> Max Bet $5,000 (Cost: $500) <button id="buy-level-2" onclick="buyTable(2, 500, 5000)">Buy</button></p>
        <p><strong>Level 3:</strong> Max Bet $10,000 (Cost: $1,000) <button id="buy-level-3" onclick="buyTable(3, 1000, 10000)">Buy</button></p>
        <p><strong>Level 4:</strong> Max Bet $25,000 (Cost: $2,500) <button id="buy-level-4" onclick="buyTable(4, 2500, 25000)">Buy</button></p>
        <p><strong>Level 5:</strong> Max Bet $50,000 (Cost: $5,000) <button id="buy-level-5" onclick="buyTable(5, 5000, 50000)">Buy</button></p>
        <button onclick="hideTableMenu()">Back to Game</button>
    </div>
    <div id="pregame-trivia-topic-selection" style="display:none">
        <h2>Pre-Game Trivia Bonus</h2>
        <p>Select a topic to answer trivia questions and increase your starting bankroll!</p>
        <div class="topic-buttons">
            <button onclick="selectPreGameTopic('History')">History</button>
            <button onclick="selectPreGameTopic('Geography')">Geography</button>
            <button onclick="selectPreGameTopic('Science')">Science</button>
            <button onclick="selectPreGameTopic('Pop Culture')">Pop Culture</button>
            <button onclick="selectPreGameTopic('Sports')">Sports</button>
            <button onclick="selectPreGameTopic('Entertainment')">Entertainment</button>
            <button onclick="selectPreGameTopic('General Knowledge')">General Knowledge</button>
        </div>
    </div>
    <div id="pregame-trivia" style="display:none">
        <h2>Pre-Game Trivia Bonus</h2>
        <p>Answer trivia questions to increase your starting bankroll! (Up to 3 questions or until wrong)</p>
        <p id="pregame-trivia-question"></p>
        <button id="pregame-option-0" onclick="answerPreGameTrivia(0)"></button>
        <button id="pregame-option-1" onclick="answerPreGameTrivia(1)"></button>
        <button id="pregame-option-2" onclick="answerPreGameTrivia(2)"></button>
        <button id="pregame-option-3" onclick="answerPreGameTrivia(3)"></button>
    </div>
    <div id="trivia-topic-selection" style="display:none">
        <h2>Trivia Redemption</h2>
        <p>Select a topic to answer a trivia question and get back in the game!</p>
        <div class="topic-buttons">
            <button onclick="selectTriviaTopic('History')">History</button>
            <button onclick="selectTriviaTopic('Geography')">Geography</button>
            <button onclick="selectTriviaTopic('Science')">Science</button>
            <button onclick="selectTriviaTopic('Pop Culture')">Pop Culture</button>
            <button onclick="selectTriviaTopic('Sports')">Sports</button>
            <button onclick="selectTriviaTopic('Entertainment')">Entertainment</button>
            <button onclick="selectTriviaTopic('General Knowledge')">General Knowledge</button>
        </div>
    </div>
    <div id="trivia-area" style="display:none">
        <p id="trivia-question"></p>
        <button id="option-0" onclick="answerTrivia(0)"></button>
        <button id="option-1" onclick="answerTrivia(1)"></button>
        <button id="option-2" onclick="answerTrivia(2)"></button>
        <button id="option-3" onclick="answerTrivia(3)"></button>
    </div>
    <div id="message-modal">
        <div id="message-modal-content">
            <p id="message-text"></p>
            <button id="take-winnings-btn" style="display:none" onclick="takeWinnings()">Take Winnings and Play Blackjack</button>
            <button id="continue-trivia-btn" style="display:none" onclick="continueTrivia()">Continue Trivia</button>
            <button id="ok-btn" onclick="closeMessage()">OK</button>
        </div>
    </div>

    <!-- JavaScript remains unchanged -->
    <script>
        // [Original JavaScript code remains here unchanged]
        let bankroll = 100;
        let dealerBankroll = 100;
        let playerHand = [];
        let splitHand = [];
        let dealerHand = [];
        let currentBet = 0;
        let splitBet = 0;
        let gameInProgress = false;
        let isSplit = false;
        let currentTrivia = null;
        let canDouble = false;
        let canSplit = false;
        let firstRoundStarted = false;
        let preGameTriviaAttempts = 0;
        let selectedPreGameTopic = null;
        let selectedTriviaTopic = null;
        let currentTableLevel = 1;
        let maxBet = 1000;
        let unlockedTables = [1];
        let askedQuestions = {
            "History": [],
            "Geography": [],
            "Science": [],
            "Pop Culture": [],
            "Sports": [],
            "Entertainment": [],
            "General Knowledge": []
        };

        const suits = ['♥', '♦', '♠', '♣'];
        const triviaQuestions = {
            "History": [
                {question: "In what year did the Berlin Wall fall?", options: ["1985", "1987", "1989", "1991"], answer: 2},
                // [Rest of the trivia questions remain unchanged]
            ],
            // [Other categories remain unchanged]
        };

        function showMessage(message, showOptions = false) {
            document.getElementById("message-text").innerText = message;
            if (showOptions) {
                document.getElementById("take-winnings-btn").style.display = "inline-block";
                document.getElementById("continue-trivia-btn").style.display = "inline-block";
                document.getElementById("ok-btn").style.display = "none";
            } else {
                document.getElementById("take-winnings-btn").style.display = "none";
                document.getElementById("continue-trivia-btn").style.display = "none";
                document.getElementById("ok-btn").style.display = "inline-block";
            }
            document.getElementById("message-modal").style.display = "flex";
        }

        function closeMessage() {
            document.getElementById("message-modal").style.display = "none";
        }

        // [Rest of the JavaScript functions remain unchanged]
        function startPreGameTrivia() {
            document.getElementById("welcome-screen").style.display = "none";
            document.getElementById("pregame-trivia-topic-selection").style.display = "block";
        }

        function skipToBlackjack() {
            document.getElementById("welcome-screen").style.display = "none";
            document.getElementById("game-area").style.display = "block";
            firstRoundStarted = true;
            updateDisplay();
        }

        // [Remaining JavaScript code remains unchanged]

        window.onload = function() {
            document.getElementById("welcome-screen").style.display = "block";
        };

        updateDisplay();
    </script>
</body>
</html>
